(function(t){function e(e){for(var s,o,r=e[0],l=e[1],u=e[2],h=0,f=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"04fd":function(t,e,a){"use strict";var s=a("d552"),n=a.n(s);n.a},2395:function(t,e,a){},"7c55":function(t,e,a){"use strict";var s=a("2395"),n=a.n(s);n.a},"8d91":function(t,e,a){},bda1:function(t,e,a){},be20:function(t,e,a){"use strict";var s=a("eb9d"),n=a.n(s);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",[t.$route.meta.keepAlive?a("router-view"):t._e()],1),t.$route.meta.keepAlive?t._e():a("router-view"),a("div",{staticClass:"buttom-ann"})],1)},i=[],o=a("9f12"),r=a("53fe"),l=a("8b83"),u=a("c65a"),c=a("c03e"),h=a("9ab4"),f=a("60a3"),p=(a("caad"),a("0d03"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),["acn","arc","blm","brd","drg","lnc","mch","mnk","mnk","min","pgl","pug","rdm","rog","sam","smn","nin","dnc","bum"]),d=["drk","gla","gld","mrd","pld","war","gnb"],m=["ast","cnj","sch","whm"];function g(t){return p.includes(t.toLowerCase())}function v(t){return d.includes(t.toLowerCase())}function b(t){return m.includes(t.toLowerCase())}function w(t,e){var a=30,s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3),document.cookie=t+"="+escape(e)+";expires="+s.toUTCString()}function C(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),a=document.cookie.match(e);return a?unescape(a[2]):null}var y=a("4bb5"),V=Object(y["a"])("showConfigs"),O=function(t){function e(){return Object(o["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"initConfigs",value:function(){var t=C("configs");t?this.setShowConfigs(JSON.parse(t)):w("configs",JSON.stringify(this.showConfigs))}},{key:"mounted",value:function(){this.initConfigs()}}]),e}(f["c"]);h["a"]([V.State((function(t){return t.showConfigs}))],O.prototype,"showConfigs",void 0),h["a"]([V.Action("setShowConfigs")],O.prototype,"setShowConfigs",void 0),O=h["a"]([f["a"]],O);var j=O,k=j,x=(a("7c55"),a("2877")),_=Object(x["a"])(k,n,i,!1,null,null,null),E=_.exports,S=a("8c4f"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("svg",{staticClass:"damage",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("defs",[a("g",{attrs:{id:"sex"}},[a("path",{attrs:{d:"m25 7.5l15.155 8.75l0 17.5l-15.155 8.75l-15.155 -8.75l0 -17.5z"}})]),a("linearGradient",{attrs:{id:"Gradient",x1:"1",y1:"1",x2:"0",y2:"0"}},[a("stop",{attrs:{offset:"0.1","stop-color":"white","stop-opacity":"0"}}),a("stop",{attrs:{offset:"0.4","stop-color":"white","stop-opacity":"1"}}),a("stop",{attrs:{offset:"0.9","stop-color":"white","stop-opacity":"0"}})],1),a("mask",{attrs:{id:"Mask"}},[a("rect",{attrs:{x:"0",y:"-3",width:"50",height:"56",fill:"url(#Gradient)"}})])],1)]),t.combtants.length<=0?a("div",{staticClass:"waiting"},[t._v("等待数据输入...")]):[a("BattleDetail",{attrs:{encounter:t.encounter}}),a("transition-group",{attrs:{name:"list-complete"}},t._l(t.combtants,(function(e,s){return a("div",{key:e.name,class:["combtant","YOU"===e.name?"self-combtant":t.getJobColor(e.Job)]},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.joblogo.status,expression:"showConfigs.joblogo.status"}],staticClass:"damage-job"},[a("svg",{staticClass:"job-border",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("defs",[a("clipPath",{attrs:{id:"sex-mask"+s}},[a("rect",{attrs:{x:"0",y:"-3",width:"50",height:t.getPercentNumber(e.damageP)}})])]),a("use",{staticClass:"border-sex",attrs:{"xlink:href":"#sex"}}),a("use",{staticClass:"sex-percent",attrs:{"xlink:href":"#sex","clip-path":"url(#sex-mask"+s+")",mask:"url(#Mask)"}})]),a("img",{staticClass:"job",attrs:{src:"../dist/icons/"+e.Job.toLowerCase()+".png"}})]),a("div",{staticClass:"play-detail"},[a("div",{staticClass:"name"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.playname.status,expression:"showConfigs.playname.status"}]},[t._v(t._s(e.name))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.abbreviation.status,expression:"showConfigs.abbreviation.status"}]},[t._v(" · "+t._s(e.Job))])]),a("div",{staticClass:"encdps"},[a("div",{staticClass:"dc-pct"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.direct.status,expression:"showConfigs.direct.status"}],staticClass:"direct"},[t._v(t._s(e.DirectHitPct))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.crit.status,expression:"showConfigs.crit.status"}],staticClass:"crit"},[t._v(t._s(e.crithitP))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.dirctAcrit.status,expression:"showConfigs.dirctAcrit.status"}],staticClass:"directCrit"},[t._v(t._s(e.CritDirectHitPct))])]),a("Damage",{attrs:{ENCDPS:e.ENCDPS,player:e.name}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.suffix.status,expression:"showConfigs.suffix.status"}],staticClass:"unit"},[t._v("DPS")])],1),a("div",{staticClass:"bottom"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.maxhit.status,expression:"showConfigs.maxhit.status"}],staticStyle:{float:"right"}},[t._v(t._s(e.maxhit))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showConfigs.deaths.status,expression:"showConfigs.deaths.status"}]},[a("img",{attrs:{src:"../dist/img/kulou.svg",alt:""}}),t._v(" "+t._s(e.deaths)+" ")])])])])})),0)],a("ul",{staticClass:"config"},[a("li",{on:{click:t.lookMyself}},[a("img",{attrs:{src:"../dist/img/self.svg"}}),a("span",{staticClass:"config-detail"},[t._v("个人显示开关")])]),a("li",{on:{click:t.toConfig}},[a("img",{attrs:{src:"../dist/img/setting.svg",alt:""}}),a("span",{staticClass:"config-detail"},[t._v("设置")])])])],2)},N=[],P=(a("45fc"),a("b64b"),a("e25e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"dps-number",attrs:{id:"dps"+t.player}})}),A=[],F=(a("a9e3"),a("b680"),a("5319"),a("1276"),function(){return(F=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var n in e=arguments[a])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}),T=function(){function t(t,e,a){var s=this;this.target=t,this.endVal=e,this.options=a,this.version="2.0.4",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){s.startTime||(s.startTime=t);var e=t-s.startTime;s.remaining=s.duration-e,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(e,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(e,s.startVal,s.endVal-s.startVal,s.duration):s.countDown?s.frameVal=s.startVal-(s.startVal-s.endVal)*(e/s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(e/s.duration),s.countDown?s.frameVal=s.frameVal<s.endVal?s.endVal:s.frameVal:s.frameVal=s.frameVal>s.endVal?s.endVal:s.frameVal,s.frameVal=Math.round(s.frameVal*s.decimalMult)/s.decimalMult,s.printValue(s.frameVal),e<s.duration?s.rAF=requestAnimationFrame(s.count):null!==s.finalEndVal?s.update(s.finalEndVal):s.callback&&s.callback()},this.formatNumber=function(t){var e,a,n,i,o,r=t<0?"-":"";if(e=Math.abs(t).toFixed(s.options.decimalPlaces),n=(a=(e+="").split("."))[0],i=a.length>1?s.options.decimal+a[1]:"",s.options.useGrouping){o="";for(var l=0,u=n.length;l<u;++l)0!==l&&l%3==0&&(o=s.options.separator+o),o=n[u-l-1]+o;n=o}return s.options.numerals&&s.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(t){return s.options.numerals[+t]})),i=i.replace(/[0-9]/g,(function(t){return s.options.numerals[+t]}))),r+s.options.prefix+n+i+s.options.suffix},this.easeOutExpo=function(t,e,a,s){return a*(1-Math.pow(2,-10*t/s))*1024/1023+e},this.options=F({},this.defaults,a),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold){this.finalEndVal=t;var a=this.countDown?1:-1;this.endVal=t+a*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}(),M=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.change={},t}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"w_ENCDPS",value:function(t){this.change.update(parseInt(t,10))}},{key:"mounted",value:function(){var t=this,e={startVal:0,duration:1.5,useGrouping:!1};this.$nextTick((function(){t.change=new T("dps".concat(t.player),parseInt(t.ENCDPS,10),e),t.change.start()}))}}]),e}(f["c"]);h["a"]([Object(f["b"])({default:""})],M.prototype,"ENCDPS",void 0),h["a"]([Object(f["b"])({default:0})],M.prototype,"player",void 0),h["a"]([Object(f["d"])("ENCDPS")],M.prototype,"w_ENCDPS",null),M=h["a"]([f["a"]],M);var $=M,J=$,U=(a("ff3c"),Object(x["a"])(J,P,A,!1,null,null,null)),G=U.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"battle-detail"},[a("span",[t._v(t._s(t.encounter.duration))]),a("span",[t._v(t._s(t.encounter.ENCDPS))]),a("p",[a("span",[t._v(t._s(t.encounter.CurrentZoneName))])])])},I=[],q=function(t){function e(){return Object(o["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),e}(f["c"]);h["a"]([Object(f["b"])()],q.prototype,"encounter",void 0),q=h["a"]([f["a"]],q);var B=q,H=B,R=(a("be20"),Object(x["a"])(H,L,I,!1,null,null,null)),Y=R.exports,z=Object(y["a"])("showConfigs"),Z=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.data={Encounter:{},Combatant:{},isActive:!1},t.Myself=!1,t.TopDamage="",t}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"updateTemplate",value:function(t){this.data=t.detail}},{key:"lookMyself",value:function(){this.Myself=!this.Myself}},{key:"getJobColor",value:function(t){return g(t)?"dps-color":v(t)?"tank-color":b(t)?"heal-color":"other-color"}},{key:"getPercentNumber",value:function(t){var e=56*parseInt(t,10)/parseInt(this.TopDamage,10);return e}},{key:"toConfig",value:function(){this.$router.push("config")}},{key:"mounted",value:function(){var t=this;document.addEventListener("onOverlayDataUpdate",(function(e){t.updateTemplate(e)}))}},{key:"destroyed",value:function(){var t=this;document.removeEventListener("onOverlayDataUpdate",(function(e){t.updateTemplate(e)}))}},{key:"encounter",get:function(){return this.data.Encounter}},{key:"combtants",get:function(){var t=this,e=[],a=this.data.Combatant;return Object.keys(a).some((function(s){if(t.Myself){var n="YOU";return e.push(a[n]),!0}a[s].crithitP=a[s]["crithit%"],a[s].damageP=a[s]["damage%"],e.push(a[s])})),e.length>0&&(this.TopDamage=e[0].damageP),e}}]),e}(f["c"]);h["a"]([z.State((function(t){return t.showConfigs}))],Z.prototype,"showConfigs",void 0),Z=h["a"]([Object(f["a"])({components:{Damage:G,BattleDetail:Y}})],Z);var K=Z,Q=K,W=(a("de16"),Object(x["a"])(Q,D,N,!1,null,null,null)),X=W.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"config-page"},[a("div",{staticClass:"waiting"},[a("router-link",{attrs:{to:"/"}},[t._v("返回")])],1),a("div",{staticClass:"config-list"},[a("span",{staticClass:"list-title"},[t._v("显示设定")]),t._l(t.showConfigs,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("span",[t._v(t._s(e.label))]),a("input",{staticClass:"check-input",attrs:{id:e.label,name:e.label,type:"checkbox"},domProps:{checked:e.status},on:{change:t.changed}}),a("label",{class:["label",e.status?"label-checked":""],attrs:{for:e.label}},[a("div",{staticClass:"tick_mark"})])])}))],2)])},et=[],at=(a("b0c0"),Object(y["a"])("showConfigs")),st=function(t){function e(){return Object(o["a"])(this,e),Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"changed",value:function(t){var e={status:t.target.checked,label:t.target.name};this.changeShowConfigs(e),w("configs",JSON.stringify(this.showConfigs))}}]),e}(f["c"]);h["a"]([at.State((function(t){return t.showConfigs}))],st.prototype,"showConfigs",void 0),h["a"]([at.Action("changeShowConfigs")],st.prototype,"changeShowConfigs",void 0),st=h["a"]([f["a"]],st);var nt=st,it=nt,ot=(a("04fd"),Object(x["a"])(it,tt,et,!1,null,null,null)),rt=ot.exports;s["a"].use(S["a"]);var lt=[{path:"/",name:"home",component:X,meta:{keepAlive:!0}},{path:"/config",name:"config",component:rt,meta:{keepAlive:!1}}],ut=new S["a"]({routes:lt}),ct=ut,ht=a("2f62"),ft={showConfigs:{playname:{status:!0,label:"玩家名称"},joblogo:{status:!0,label:"职业图标"},abbreviation:{status:!0,label:"职业缩写"},suffix:{status:!0,label:"数值后缀"},maxhit:{status:!0,label:"最强伤害"},deaths:{status:!1,label:"死亡次数"},direct:{status:!1,label:"直击概率"},crit:{status:!1,label:"暴击概率"},dirctAcrit:{status:!1,label:"直暴概率"}}},pt={changeShowConfigs:function(t,e){for(var a in t.showConfigs)if(t.showConfigs[a].label===e.label){t.showConfigs[a].status=e.status;break}},setShowConfigs:function(t,e){t.showConfigs=Object.assign(t.showConfigs,e)}},dt={changeShowConfigs:function(t,e){t.commit("changeShowConfigs",e)},setShowConfigs:function(t,e){t.commit("setShowConfigs",e)}},mt={namespaced:!0,state:ft,mutations:pt,actions:dt};s["a"].use(ht["a"]);var gt=new ht["a"].Store({modules:{showConfigs:mt}});s["a"].config.productionTip=!1,new s["a"]({router:ct,store:gt,render:function(t){return t(E)}}).$mount("#app")},d552:function(t,e,a){},de16:function(t,e,a){"use strict";var s=a("8d91"),n=a.n(s);n.a},eb9d:function(t,e,a){},ff3c:function(t,e,a){"use strict";var s=a("bda1"),n=a.n(s);n.a}});
//# sourceMappingURL=app.69bf609e.js.map