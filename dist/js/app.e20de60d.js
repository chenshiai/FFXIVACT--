(function(t){function a(a){for(var n,r,o=a[0],l=a[1],u=a[2],h=0,p=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(a);while(p.length)p.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,o=1;o<e.length;o++){var l=e[o];0!==s[l]&&(n=!1)}n&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},s={app:0},i=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var u=0;u<o.length;u++)a(o[u]);var c=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("cd49")},2395:function(t,a,e){},"7c55":function(t,a,e){"use strict";var n=e("2395"),s=e.n(n);s.a},"8d91":function(t,a,e){},bda1:function(t,a,e){},cd49:function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view"),e("div",{staticClass:"buttom-ann"})],1)},i=[],r=(e("7c55"),e("2877")),o={},l=Object(r["a"])(o,s,i,!1,null,null,null),u=l.exports,c=e("8c4f"),h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("svg",{staticClass:"damage",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("g",{attrs:{id:"sex"}},[e("path",{attrs:{d:"m25 7.5l15.155 8.75l0 17.5l-15.155 8.75l-15.155 -8.75l0 -17.5z"}})]),e("linearGradient",{attrs:{id:"Gradient",x1:"1",y1:"1",x2:"0",y2:"0"}},[e("stop",{attrs:{offset:"0","stop-color":"white","stop-opacity":"0"}}),e("stop",{attrs:{offset:"0.4","stop-color":"white","stop-opacity":"1"}}),e("stop",{attrs:{offset:"1","stop-color":"white","stop-opacity":"0"}})],1),e("mask",{attrs:{id:"Mask"}},[e("rect",{attrs:{x:"0",y:"-3",width:"50",height:"56",fill:"url(#Gradient)"}})])],1)]),t.combtants.length<=0?e("div",{staticClass:"waiting"},[t._v("等待数据输入")]):[e("div",{staticClass:"battle-detail"},[e("div",[t._v(t._s(t.encounter.CurrentZoneName))]),e("span",[t._v("时间:"+t._s(t.encounter.duration))]),e("span",[t._v("团伤:"+t._s(t.encounter.ENCDPS))])]),e("transition-group",{attrs:{name:"list-complete"}},t._l(t.combtants,(function(a,n){return e("div",{key:a.name,class:["combtant","YOU"===a.name?"self-combtant":t.getJobColor(a.Job)]},[e("div",{staticClass:"damage-job"},[e("svg",{staticClass:"job-border",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("clipPath",{attrs:{id:"sex-mask"+n}},[e("rect",{attrs:{x:"0",y:"-3",width:"50",height:t.getPercentNumber(a.damageP)}})])]),e("use",{staticClass:"border-sex",attrs:{"xlink:href":"#sex"}}),e("use",{staticClass:"sex-percent",attrs:{"xlink:href":"#sex","clip-path":"url(#sex-mask"+n+")",mask:"url(#Mask)"}})]),e("img",{staticClass:"job",attrs:{src:"../dist/icons/"+a.Job.toLowerCase()+".png"}})]),e("div",{staticClass:"play-detail"},[e("div",{staticClass:"name"},[t._v(t._s(a.name)+" · "+t._s(a.Job))]),e("div",{staticClass:"encdps"},[e("div",{staticStyle:{float:"left"}},[t._v(" "+t._s(a.ENCHPS)),e("span",{staticClass:"unit"},[t._v("HPS")])]),e("Damage",{attrs:{ENCDPS:a.ENCDPS,player:a.name}}),e("span",{staticClass:"unit"},[t._v("DPS")])],1),e("div",{staticClass:"maxhit"},[t._v(" "+t._s(a.maxhit)+" ")])])])})),0)],e("ul",{staticClass:"config"},[e("li",[e("img",{attrs:{src:"../dist/img/self.svg"},on:{click:t.lookMyself}}),e("span",{staticClass:"config-detail"},[t._v("个人显示开关")])]),e("li",[e("img",{attrs:{src:"../dist/img/setting.svg",alt:""}}),e("span",{staticClass:"config-detail"},[t._v("设置开发中")])])])],2)},p=[],d=(e("45fc"),e("b64b"),e("e25e"),e("9f12")),f=e("53fe"),m=e("8b83"),g=e("c65a"),v=e("c03e"),b=e("9ab4"),V=e("60a3"),y=(e("caad"),["acn","arc","blm","brd","drg","lnc","mch","mnk","mnk","min","pgl","pug","rdm","rog","sam","smn","nin","dnc","bum"]),w=["drk","gla","gld","mrd","pld","war","gnb"],E=["ast","cnj","sch","whm"];function C(t){return y.includes(t.toLowerCase())}function x(t){return w.includes(t.toLowerCase())}function O(t){return E.includes(t.toLowerCase())}var j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"dps-number",attrs:{id:"dps"+t.player}})},k=[],_=(e("a9e3"),e("b680"),e("ac1f"),e("5319"),e("1276"),function(){return(_=Object.assign||function(t){for(var a,e=1,n=arguments.length;e<n;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}).apply(this,arguments)}),P=function(){function t(t,a,e){var n=this;this.target=t,this.endVal=a,this.options=e,this.version="2.0.4",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){n.startTime||(n.startTime=t);var a=t-n.startTime;n.remaining=n.duration-a,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(a,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(a,n.startVal,n.endVal-n.startVal,n.duration):n.countDown?n.frameVal=n.startVal-(n.startVal-n.endVal)*(a/n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(a/n.duration),n.countDown?n.frameVal=n.frameVal<n.endVal?n.endVal:n.frameVal:n.frameVal=n.frameVal>n.endVal?n.endVal:n.frameVal,n.frameVal=Math.round(n.frameVal*n.decimalMult)/n.decimalMult,n.printValue(n.frameVal),a<n.duration?n.rAF=requestAnimationFrame(n.count):null!==n.finalEndVal?n.update(n.finalEndVal):n.callback&&n.callback()},this.formatNumber=function(t){var a,e,s,i,r,o=t<0?"-":"";if(a=Math.abs(t).toFixed(n.options.decimalPlaces),s=(e=(a+="").split("."))[0],i=e.length>1?n.options.decimal+e[1]:"",n.options.useGrouping){r="";for(var l=0,u=s.length;l<u;++l)0!==l&&l%3==0&&(r=n.options.separator+r),r=s[u-l-1]+r;s=r}return n.options.numerals&&n.options.numerals.length&&(s=s.replace(/[0-9]/g,(function(t){return n.options.numerals[+t]})),i=i.replace(/[0-9]/g,(function(t){return n.options.numerals[+t]}))),o+n.options.prefix+s+i+n.options.suffix},this.easeOutExpo=function(t,a,e,n){return e*(1-Math.pow(2,-10*t/n))*1024/1023+a},this.options=_({},this.defaults,e),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold){this.finalEndVal=t;var e=this.countDown?1:-1;this.endVal=t+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var a=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=a:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=a:this.el.innerHTML=a},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var a=Number(t);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}(),D=function(t){function a(){var t;return Object(d["a"])(this,a),t=Object(m["a"])(this,Object(g["a"])(a).apply(this,arguments)),t.change={},t}return Object(v["a"])(a,t),Object(f["a"])(a,[{key:"w_ENCDPS",value:function(t){this.change.update(parseInt(t,10))}},{key:"mounted",value:function(){var t=this,a={startVal:0,duration:1.5,useGrouping:!1};this.$nextTick((function(){t.change=new P("dps".concat(t.player),parseInt(t.ENCDPS,10),a),t.change.start()}))}}]),a}(V["c"]);b["a"]([Object(V["b"])({default:""})],D.prototype,"ENCDPS",void 0),b["a"]([Object(V["b"])({default:0})],D.prototype,"player",void 0),b["a"]([Object(V["d"])("ENCDPS")],D.prototype,"w_ENCDPS",null),D=b["a"]([V["a"]],D);var F=D,N=F,S=(e("ff3c"),Object(r["a"])(N,j,k,!1,null,null,null)),M=S.exports,A=function(t){function a(){var t;return Object(d["a"])(this,a),t=Object(m["a"])(this,Object(g["a"])(a).apply(this,arguments)),t.data={Encounter:{},Combatant:{},isActive:!1},t.Myself=!1,t.TopDamage="",t}return Object(v["a"])(a,t),Object(f["a"])(a,[{key:"updateTemplate",value:function(t){this.data=t.detail}},{key:"lookMyself",value:function(){this.Myself=!this.Myself}},{key:"getJobColor",value:function(t){return C(t)?"dps-color":x(t)?"tank-color":O(t)?"heal-color":"other-color"}},{key:"getPercentNumber",value:function(t){var a=56*parseInt(t,10)/parseInt(this.TopDamage,10);return a}},{key:"mounted",value:function(){var t=this;document.addEventListener("onOverlayDataUpdate",(function(a){t.updateTemplate(a)}))}},{key:"encounter",get:function(){return this.data.Encounter}},{key:"combtants",get:function(){var t=this,a=[],e=this.data.Combatant;return Object.keys(e).some((function(n){if(t.Myself){var s="YOU";return a.push(e[s]),!0}e[n].damageP=e[n]["damage%"],a.push(e[n])})),a.length>0&&(this.TopDamage=a[0].damageP),a}}]),a}(V["c"]);A=b["a"]([Object(V["a"])({components:{Damage:M}})],A);var T=A,G=T,J=(e("de16"),Object(r["a"])(G,h,p,!1,null,null,null)),I=J.exports;n["a"].use(c["a"]);var L=[{path:"/",name:"home",component:I}],U=new c["a"]({routes:L}),$=U,q=e("2f62");n["a"].use(q["a"]);var H=new q["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:$,store:H,render:function(t){return t(u)}}).$mount("#app")},de16:function(t,a,e){"use strict";var n=e("8d91"),s=e.n(n);s.a},ff3c:function(t,a,e){"use strict";var n=e("bda1"),s=e.n(n);s.a}});
//# sourceMappingURL=app.e20de60d.js.map